import { default as makeWASocket } from '@whiskeysockets/baileys';

const menuCommand = async (m, sock, config, menu) => {
  try {
    // Function to calculate runtime in hours, minutes, and seconds
    const runtime = (uptime) => {
      const hours = Math.floor(uptime / 3600);
      const minutes = Math.floor((uptime % 3600) / 60);
      const seconds = Math.floor(uptime % 60);
      return `${hours}h ${minutes}m ${seconds}s`;
    };

    const pushname = m.pushName || 'User'; // Retrieve the user's push name

    // Construct the main menu message
    const mainMenu = `
ğŸŒŸğŸ‘‘  - ğ— ğ—®ğ—¶ğ—» ğ— ğ—²ğ—»ğ˜‚ ğŸ‘‘ğŸŒŸ

ğŸ‘‹ HELLO, ${pushname}!

âœ¨ ğ—ªğ—²ğ—¹ğ—°ğ—¼ğ—ºğ—² ğ˜ğ—¼ DEAR! âœ¨ 

ğŸ“Š *ğ—•ğ—¼ğ˜ ğ—œğ—»ğ—³ğ—¼ğ—¿ğ—ºğ—®ğ˜ğ—¶ğ—¼ğ—»:*
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â³ *ğ—¥ğ˜‚ğ—»ğ˜ğ—¶ğ—ºğ—²:* ${runtime(process.uptime())}
ğŸ‘¤ *ğ—¢ğ˜„ğ—»ğ—²ğ—¿ ğ—¡ğ—®ğ—ºğ—²:* ğ—ğ—®ğ—»ğ—¶ğ˜ğ—µ ğ—¥ğ—®ğ˜€ğ—µğ—ºğ—¶ğ—¸ğ—®
ğŸ“ *ğ—¢ğ˜„ğ—»ğ—²ğ—¿ ğ—¡ğ˜‚ğ—ºğ—¯ğ—²ğ—¿:* ${config.BOT_NUMBER}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“¥ *ğ——ğ—¼ğ˜„ğ—»ğ—¹ğ—¼ğ—®ğ—± ğ— ğ—²ğ—»ğ˜‚:*

${menu.download}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”§ *ğ— ğ—®ğ—¶ğ—» ğ— ğ—²ğ—»ğ˜‚:*

${menu.main}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ‰ *ğ—™ğ˜‚ğ—» ğ— ğ—²ğ—»ğ˜‚:*

${menu.fun}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ‘¥ *ğ—šğ—¿ğ—¼ğ˜‚ğ—½ ğ— ğ—²ğ—»ğ˜‚:*

${menu.group}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”’ *ğ—¢ğ˜„ğ—»ğ—²ğ—¿ ğ— ğ—²ğ—»ğ˜‚:*

${menu.owner}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”„ *ğ—–ğ—¼ğ—»ğ˜ƒğ—²ğ—¿ğ˜ ğ— ğ—²ğ—»ğ˜‚:*

${menu.convert}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ” *ğ—¦ğ—²ğ—®ğ—¿ğ—°ğ—µ ğ— ğ—²ğ—»ğ˜‚:*

${menu.search}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âš™ï¸ *ğ—¢ğ˜ğ—µğ—²ğ—¿ ğ— ğ—²ğ—»ğ˜‚:*

${menu.other}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
*Â© RCD MD ğ—•ğ—¼ğ˜ - MD* 
ğŸ’» *GitHub:* github.com/Mrrashmika/Queen_Anju-MDğŸŒ
`;

    // Send the constructed main menu message as a reply
    await sock.sendMessage(m.from, { text: mainMenu }, { quoted: m });
  } catch (e) {
    console.error('Error:', e);
    m.reply('An error occurred while displaying the menu.');
  }
};

export default menuCommand;
